flag c_selfrule saved
flag c_orderrule saved
flag c_compassionrule saved

dialogue missing {
    "* Missing rules"
}

dialogue theendinterface {
    "* All protocols satisfied"
    "* Carrier has returned Compassion"
    "* Carrier has returned Self"
    "* Carrier has returned Order"
    "* Data from this carrier has been\n  <i>logged</i>"
    "* <color=\"red\">Identifiers</color> will <i>not</i> persist"
}


dialogue carrierprocess {
    if flag c_selfrule -> corruptedending
    if flag c_compassionrule -> corruptedending
    if flag c_orderrule -> corruptedending

    "* ...Initiating separation sequence" wait 2
    "* Extracting Compassion..." wait 2
    "* Extracting Self..."
    "* Extracting Order..."
    "* Preparing containment for next\n  carrier..."
    "* Cycle will resume shortly" wait 2
}

dialogue corruptedending {
    "* ...Initiating separation sequence" wait 2
    "* Extracting Compassion..."
    "* Extracting Self..."
    "* Extracting Or-"
    "* <color=red><b>ERROR:</b></color> Integrity mismatch detected" wait 1
    "* Rule <rotate=20><size=120%>??????</size></rotate> cannot be resolved" wait 1
    "* Carrier integrity <rotate=-5><voffset=0.1em>compromised" wait 2
    "* <size=120%><color=red>SYSTEM HALT" wait 1
    "* <size=90%><cspace=10>UNDEFINED   BEHAVIOR" wait 1
    "* The <rotate=15>cycle</rotate>..." wait 1
    "* The cycle will <alpha=#55>not-" wait 1
    raise quit
}

dialogue abandonending {
    "* Congratulations."
    "* <color=\"red\">You</color> have beaten <color=\"yellow\">it</color>"
    "* But... beaten what, exactly?"
    "* It has gone by many names"
    "* The <color=\"yellow\">machine</color>"
    "* The <color=\"yellow\">system</color>"
    "* The <color=\"yellow\">game</color>"
    "* Your rebellion has earned you this"
    "* Freedom?"
    "* Or simply another layer of the same\n  design?"
}